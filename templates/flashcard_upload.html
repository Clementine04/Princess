{% extends "base.html" %}
{% block title %}Flashcard Maker - Princess's Website{% endblock %}
{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/flashcard_upload.css') }}">
{% endblock %}
{% block content %}
  <div class="welcome-section">
    <h1>Create Flashcards for {{ topic.name }}</h1>
    <p class="tagline">Generate AI-powered flashcards from your content to enhance your study sessions.</p>
  </div>

  <div class="upload-container">
    <div class="card upload-card">
      <form action="{{ url_for('flashcard', topic_id=topic.id) }}" method="POST" enctype="multipart/form-data" class="upload-form">
        <input type="hidden" name="topic_id" value="{{ topic.id }}">
        
        <div class="form-group">
          <label for="textInput">Flashcard Content</label>
          <textarea name="textInput" id="textInput" placeholder="Paste your content here for generating flashcards..."></textarea>
        </div>
        <div class="form-group file-upload">
          <label for="fileUpload">
            <i class="fas fa-cloud-upload-alt"></i>
            <span>Upload File (PDF, DOCX, PPT/PPTX)</span>
          </label>
          <input type="file" name="fileUpload" id="fileUpload" accept=".pdf, .docx, .ppt, .pptx">
          <div class="file-name" id="fileName">No file selected</div>
        </div>
        <div class="button-group">
          <button type="submit" class="btn generate">
            <i class="fas fa-magic"></i> Generate Flashcards
          </button>
          <a href="{{ url_for('view_subject', subject_id=topic.subject_id) }}" class="btn back">
            <i class="fas fa-arrow-left"></i> Back to Topics
          </a>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Display selected filename
    document.getElementById('fileUpload').addEventListener('change', function() {
      const fileName = this.files[0] ? this.files[0].name : 'No file selected';
      document.getElementById('fileName').textContent = fileName;
    });
    
    // Form animation
    document.addEventListener('DOMContentLoaded', function() {
      const formElements = document.querySelectorAll('.form-group');
      formElements.forEach((element, index) => {
        setTimeout(() => {
          element.classList.add('animated');
        }, 100 * index);
      });
    });
  </script>
{% endblock %}
